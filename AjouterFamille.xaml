<Window x:Class="CaissePoly.AjouterFamille"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Ajouter une Famille" 
       Height="700" 
Width="1302"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="#FFFDF1DC">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header with consistent styling -->
        <Border Grid.Row="0" Background="#A9D0F5" Padding="10">
            <TextBlock Text="NOUVELLE FAMILLE" 
                       FontSize="18" 
                       FontWeight="Bold"
                       Foreground="#2C3E50"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"/>
        </Border>

        <!-- Input Section -->
        <Grid Grid.Row="1" Margin="15">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Label Content="Nom de la famille:" 
                   FontWeight="Bold"
                   Foreground="#2C3E50"
                   Margin="0,0,0,5"/>

            <TextBox Grid.Row="1" 
                     Text="{Binding NomFamille, UpdateSourceTrigger=PropertyChanged}"
                     Padding="8"
                     FontSize="14"
                     Margin="0,0,0,20"
                    
                   
                     BorderBrush="#BDC3C7"
                     Width="350"/>

            <!-- Optional: Display existing families -->
            <Border Grid.Row="2" 
                    BorderBrush="#E2E8F0" 
                    BorderThickness="1"
                    CornerRadius="4"
                    Padding="5"
                    Margin="0,10,0,0">
                <StackPanel>
                    <TextBlock Text="Familles existantes:" 
                               FontWeight="Bold"
                               Foreground="#2C3E50"
                               Margin="0,0,0,5"/>

                    <ListView ItemsSource="{Binding ExistingFamilies}"
          SelectedItem="{Binding SelectedFamille, Mode=TwoWay}"
          Height="200">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <DockPanel LastChildFill="True" Margin="0,2">
                                    <TextBlock Text="{Binding nomF}" VerticalAlignment="Center" Margin="10,0,0,0"/>

                                    
                                </DockPanel>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>


                </StackPanel>
            </Border>
        </Grid>

        <!-- Action Buttons - Styled like the product page -->
        <Border Grid.Row="2" 
        Background="#ECF0F1" 
        Padding="10"
        BorderThickness="0,1,0,0" 
        BorderBrush="#BDC3C7">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">


                <Button Content="ANNULER" 
                Command="{Binding CancelCommand}"
                Width="120" 
                Height="35"
                Margin="5,0"
                Background="#95A5A6"
                Foreground="White"
                FontWeight="Bold"
                BorderThickness="0" Click="Button_Click"/>
                
                

                <Button Content="SUPPRIMER" 
                Command="{Binding SupprimerFamilleCommand}" 
                CommandParameter="{Binding SelectedFamille}"
                Width="120"
                Height="35"
                Margin="5,0"
                Background="#E74C3C"
                Foreground="White"
                FontWeight="Bold"
                BorderThickness="0"/>

                <Button Content="MODIFIER" 
Command="{Binding ModifierFamilleCommand}" 
CommandParameter="{Binding SelectedFamille}"
Width="120"
Height="35"
Margin="5,0"
Background="#3498DB"
Foreground="White"
FontWeight="Bold"
BorderThickness="0"/>


                <Button Content="AJOUTER" 
                Command="{Binding AjouterFamilleCommand}"
                Width="120"
                Height="35"
                Margin="5,0"
                Background="#2ECC71"
                Foreground="White"
                FontWeight="Bold"
                BorderThickness="0"
                        />
                
                
            </StackPanel>
        </Border>

    </Grid>
</Window>